# PyQt6 总结

2024-09-29|17:29:36
参考链接`http://python222.com/post/7`

我感觉有一种趋势，就是把页面的元素及其属性与操作绑定到一起，来形成一个可复用的模块库，vue3 就是通过这种思想来设计的，它的单文件组件，更是这种模式的一个很好的尝试。我觉得其实 Qt 的设计也具有这种思想，它的模块就是一个个可复用的组件库的元素。这些都是面向对象设计思想的具体体现。

## 设计思路

PyQt6 以 Qt 为基础进行设计，在它的基础了适配了 python，还添加了一些新的用法。
我决定它这里实现的核心程序有两个，一个是整个框架，另一个是将 UI 界面转化成对应内容的程序。

## UI 界面的设计

首先要设计页面的整体布局，有四种布局方式，分别是垂直布局，水平布局，一种通用表格类型，一种专用表格类型。它这个布局是可以进行嵌套的，这样可以设计出更加复杂的布局，也能让布局具有更强的灵活性。

其次是向页面当中添加具体的元素，比如标签，单行文本框，文本区域，按钮，展板。这些文本区域具有很多的布局和页面的属性，可以在设计页面详细调整。有一个点需要注意，就是一般来说不同层次的容器都有一个整体的布局模式，比如栅格布局，垂直布局，水平布局等等。

然后可以窗口的菜单，在设计菜单的时候，可以添加选项或者分割线，然后具体的选项也可以向下继续添加，这个过程可以递归的进行，它们也可以像其它元素一样修改属性。

在设计的差不多之后，还可以设计信号和槽。信号就比如一个点击事件，而槽对应具体的执行的函数。它们之间是多对多的关系。这个开始如果不熟悉可以先借助 UI 界面的选项，等熟悉以后可以直接写到代码里面。

## 在程序中引用 UI 界面

我觉得 qt 的 xml 的 ui 文件，和网页的 html 是非常的类似的；对 ui 的具体设计（比如元素的属性和整体布局），和网页的 css 是类似的；而操控 ui 的程序，则类似于 javascript 的作用。这里的基本逻辑是非常的相似的，只是在网页里交给了三个不同的角色一起来实现了整体的功能，而 qt 则是集全部功能于一身了。

在程序里面引用 UI 界面有两种方式，一种是先把 ui 界面用工具编译成 python 文件，这个文件里面包含一个窗口的类，可以在主程序里面直接声明实例来进行使用。

另外一种是直接在 python 脚本里面通过 uic 这个工具来引用 ui 文件，引用这个文件之后，可以直接通过操控返回的对象来修改页面，以及实现相关的功能。

这两种模式各有优劣，前者更适用于个人开发，可以在编译成 python 文件以后直接修改这个文件，更加便捷的实现和操作。而后者更适合团队开发，因为它实现了前端和后端的分离，从而能够更清晰的进行任务的分配，以及责任的划分。

我个人更喜欢后面这种方式，但是我觉得也可以先把原来的 ui 文件编译成 python，但是要求在程序当中不能直接修改这个编译生成的文件，只能在其它文件引用窗口类来进行示例化。
